
# Checkers Backend Server

Сервер для игр поддержкой PvP, PvE и EVE (AI vs AI).  
Реализован на **Node.js**, **Express** и **Socket.IO**.  

установи типы для JWT если линтер будет ругать !

```
npm install --save-dev @types/jsonwebtoken
```

---

## Структура проекта

```

src/
│
├── auth/
│   ├── auth.controller.ts     #
│   ├── auth.routes.ts         #
│   ├── auth.service.ts        #
│   └── token.service.ts       #
│
├── games/
│   ├── checkers            # шашки
│   │      ├─ logic/        # основная логика 
│   │      ├─ utils/        # утилиты для игры
│   │      ├─ server.ts     # модуль сервера для игры
│   │      └─ types.ts      # типы для игры
│   │       
│   └── chess            # шахматы
│
├── users/
│   ├── user.store.ts         # создание серверного юзера
│   └── user.types.ts         # типы серверного юзера
│
├── utils/
│   └── generate.ts       
│
├── .env
│   
├── config.ts  
│
└── index.ts


## Детали структуры

### `index.ts`

Основной серверный файл:
- Подключает **Express** и **Socket.IO**
- Обрабатывает события сокетов и подключение модулей игр

---

### `games/checkers/`
Вся логика, связанная с **шашками**, вынесена модульно:

- `init.ts` — инициализация новой игры с расстановкой фигур
- `logic.ts` — проверка ходов, обязательные удары, доступные ходы для выбранной шашки
- `services.ts` — `CheckersService`, серверная реализация логики игры, обработка ходов и проверка победителя
- `applyMove.ts` — универсальная функция применения хода игрока или AI
- `triggerAI.ts` — планирование ходов AI, рекурсивные серии для EVE
- `ai.ts` — генерация и оценка ходов AI
- `updateKilled.ts` — подсчет съеденных шашек и обновление состояния игры

**Цель:** сделать модульную архитектуру, чтобы легко добавлять новые игры, например, `games/chess/` в будущем.

---

## Особенности
- Полная поддержка **PvP**, **PvE**, **EVE (AI vs AI)**
- Автоматическое вычисление обязательных ударов
- Подсветка доступных ходов для выбранной шашки
- Реализован AI с оценкой ходов и стратегией
- Очистка неактивных игроков и поддержка сокетов
- Гибкая структура для расширения другими играми

---
